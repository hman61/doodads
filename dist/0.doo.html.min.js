(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{4:function(e,t,s){(function(i){var n;!function(){"use strict";var o=void 0!==i&&!i.browser,r=!1,a=!1;try{void 0!==(new XMLHttpRequest).withCredentials?r=!0:"XDomainRequest"in window&&(r=!0,a=!0)}catch(e){}var h=Array.prototype.indexOf,l=function(e,t){var s=0,i=e.length;if(h&&e.indexOf===h)return e.indexOf(t);for(;s<i;s++)if(e[s]===t)return s;return-1},u=function(e){return this&&this instanceof u?("string"==typeof e&&(e={key:e}),this.callback=e.callback,this.error=e.error,this.wanted=e.wanted||[],this.key=e.key,this.simpleSheet=!!e.simpleSheet,this.parseNumbers=!!e.parseNumbers,this.wait=!!e.wait,this.reverse=!!e.reverse,this.postProcess=e.postProcess,this.debug=!!e.debug,this.query=e.query||"",this.orderby=e.orderby,this.endpoint=e.endpoint||"https://spreadsheets.google.com",this.singleton=!!e.singleton,this.simpleUrl=!(!e.simpleUrl&&!e.simple_url),this.authkey=e.authkey,this.sheetPrivacy=this.authkey?"private":"public",this.callbackContext=e.callbackContext,this.prettyColumnNames=void 0===e.prettyColumnNames?!e.proxy:e.prettyColumnNames,void 0!==e.proxy&&(this.endpoint=e.proxy.replace(/\/$/,""),this.simpleUrl=!0,this.singleton=!0,r=!1),this.parameterize=e.parameterize||!1,this.singleton&&(void 0!==u.singleton&&this.log("WARNING! Tabletop singleton already defined"),u.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),/spreadsheets\/d/.test(this.key)&&(this.log("You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)/")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath="/feeds/worksheets/"+this.key+"/"+this.sheetPrivacy+"/basic?alt=",this.baseJsonPath+=o||r?"json":"json-in-script",this.authkey&&(this.baseJsonPath+="&oauth_token="+this.authkey),this.wait?void 0:this.fetch()):void this.log("You need to pass Tabletop a key!")):new u(e)};u.callbacks={},u.init=function(e){return new u(e)},u.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},u.prototype={fetch:function(e){var t=this;return new Promise((function(s,i){void 0!==e&&(t.callback=e),t.callback||(t.callback=s),t.error||(t.error=i),t.requestData(t.baseJsonPath,t.loadSheets)}))},requestData:function(e,t){if(this.log("Requesting",e),this.encounteredError=!1,o);else{var s=this.endpoint.split("//").shift()||"http";!r||a&&s!==location.protocol?this.injectScript(e,t):this.xhrFetch(e,t)}},xhrFetch:function(e,t){var s=a?new XDomainRequest:new XMLHttpRequest;s.open("GET",this.endpoint+e);var i=this;s.onload=function(){var e;try{e=JSON.parse(s.responseText)}catch(e){console.error(e)}t.call(i,e)},this.error&&s.addEventListener("error",this.error),s.send()},injectScript:function(e,t){var s,i=document.createElement("script");if(this.singleton)t===this.loadSheets?s="Tabletop.singleton.loadSheets":t===this.loadSheet&&(s="Tabletop.singleton.loadSheet");else{var n=this;s="tt"+ +new Date+Math.floor(1e5*Math.random()),u.callbacks[s]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(n,e),i.parentNode.removeChild(i),delete u.callbacks[s]},s="Tabletop.callbacks."+s}var o=e+"&callback="+s;this.simpleUrl?-1!==e.indexOf("/list/")?i.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:i.src=this.endpoint+"/"+this.key:i.src=this.endpoint+o,this.parameterize&&(i.src=this.parameterize+encodeURIComponent(i.src)),this.log("Injecting",i.src),document.getElementsByTagName("script")[0].parentNode.appendChild(i)},isWanted:function(e){return 0===this.wanted.length||-1!==l(this.wanted,e)},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(this.modelNames.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){-1===l(this.wanted,e)&&this.wanted.push(e)},loadSheets:function(e){var t,s,i=[];try{this.googleSheetName=e.feed.title.$t}catch(e){return void this.error(e)}for(this.foundSheetNames=[],t=0,s=e.feed.entry.length;t<s;t++)if(this.foundSheetNames.push(e.feed.entry[t].title.$t),this.isWanted(e.feed.entry[t].content.$t)){var n=e.feed.entry[t].link.length-1,a=e.feed.entry[t].link[n].href.split("/").pop(),h="/feeds/list/"+this.key+"/"+a+"/"+this.sheetPrivacy+"/values?alt=";h+=o||r?"json":"json-in-script",this.query&&(h+="&tq="+this.query),this.orderby&&(h+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(h+="&reverse=true"),this.authkey&&(h+="&oauth_token="+this.authkey),i.push(h)}for(this.sheetsToLoad=i.length,t=0,s=i.length;t<s;t++)this.requestData(i[t],this.loadSheet)},sheets:function(e){return void 0===e?this.models:void 0===this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,-1===l(this.modelNames,e.name)&&this.modelNames.push(e.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var t=this;new u.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&void 0!==console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},u.Model=function(e){var t,s,i,n;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,void 0===e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.originalColumns=[],this.elements=[],void this.ready();for(var o in e.data.feed.entry[0])/^gsx/.test(o)&&this.columnNames.push(o.replace("gsx$",""));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,t=0,i=e.data.feed.entry.length;t<i;t++){var r=e.data.feed.entry[t],a={};for(s=0,n=this.columnNames.length;s<n;s++){var h=r["gsx$"+this.columnNames[s]];void 0!==h?e.parseNumbers&&""!==h.$t&&!isNaN(h.$t)?a[this.columnNames[s]]=+h.$t:a[this.columnNames[s]]=h.$t:a[this.columnNames[s]]=""}void 0===a.rowNumber&&(a.rowNumber=t+1),this.elements.push(a)}e.prettyColumnNames?this.fetchPrettyColumns():this.ready()},u.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),t=this;this.tabletop.requestData(e,(function(e){t.loadPrettyColumns(e)}))},beforeReady:function(){if(this.tabletop.postProcess)for(var e=0,t=this.elements.length;e<t;e++)this.tabletop.postProcess(this.elements[e])},ready:function(){this.beforeReady(),this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},s=this.columnNames,i=0,n=s.length;i<n;i++)void 0!==e.feed.entry[i].content.$t?t[s[i]]=e.feed.entry[i].content.$t:t[s[i]]=s[i];this.prettyColumns=t,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,s,i,n=[],o=[];for(t=0,i=this.columnNames.length;t<i;t++)o.push(this.prettyColumns[this.columnNames[t]]);for(e=0,s=this.elements.length;e<s;e++){var r={};for(t=0,i=this.columnNames.length;t<i;t++){r[this.prettyColumns[this.columnNames[t]]]=this.elements[e][this.columnNames[t]]}n.push(r)}this.elements=n,this.columnNames=o},toArray:function(){var e,t,s,i,n=[];for(e=0,s=this.elements.length;e<s;e++){var o=[];for(t=0,i=this.columnNames.length;t<i;t++)o.push(this.elements[e][this.columnNames[t]]);n.push(o)}return n}},e.exports?e.exports=u:void 0===(n=function(){return u}.call(t,s,t,e))||(e.exports=n)}()}).call(this,s(6))},6:function(e,t){var s,i,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(s===setTimeout)return setTimeout(e,0);if((s===o||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:o}catch(e){s=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}}();var h,l=[],u=!1,c=-1;function d(){u&&h&&(u=!1,h.length?l=h.concat(l):c=-1,l.length&&m())}function m(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(h=l,l=[];++c<t;)h&&h[c].run();c=-1,t=l.length}h=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];l.push(new p(e,t)),1!==l.length||u||a(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}}]);